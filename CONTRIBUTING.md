# Инструкция по совместной работе над проектом в GitHub
Для начала работы над проектом необходимо скопировать репозиторий себе локально на компьютер. Для этого:

1. На главной странице репозитория [https://github.com/DizZer0/lubimovka](https://github.com/DizZer0/lubimovka) нажать на зелёную кнопку Code. Выбрать SSH. Скопировать ссылку.
2. Открыть в терминале рабочий каталог при помощи команды cd.
3. Выполнить в терминале команду:
```git clone git@github.com:DizZer0/lubimovka.git```
4. В рабочем каталоге создастся каталог lubimovka с проектом из гитхаб
5. Перейти в каталог lubimovka.

Поздравляем! Вы развернули у себя локально проект.

По умолчанию вы будете находится в ветке main. 
Весь актуальный код будет храниться в ветке develop. В ветку main код зальём перед сдачей.
Создайте и перейдите в локальную ветку develop командой ```git checkout -b develop``` - одна команда на два действия.

Результат выполнения команды ```git branch``` покажет вам все локальные ветки. Знаком * отметит текущую ветку. Также в терминале обычно указывается текущая ветка в круглых скобках, после пути рабочего каталога. Например: ```/d/dir/projects/Ya.Practicum/dev/lubimovka (develop)```

Для того, чтобы при подгрузке актуального кода из ветки develop в локальный репозиторий иметь возможность вводить просто git pull необходимо ввести команду:
```git branch --set-upstream-to=origin/develop develop```

И тогда, находясь в локальной ветке develop, вы сможете взять из ветки ```develop``` удалённого репозитория весь актуальный код командой ```git pull```
```git pull``` необходимо выполнять перед каждым отпочкованием новой ветки.

Находясь в ветке develop создайте свою рабочую ветку командой ```git checkout -b <название-ветки>``` - название ветки без пробелов.
### Соглашение названия веток

Префиксы:

feat/ - для новых фичей и функциональностей
bagfix/ - для исправления возникших багов
После / указываем суть ветки. Например, у вас задача по реализации футера. Ветка будет называться feat/footer

Если необходимо использовать несколько слов, то пишем через “-”: feat/create-button
Ещё раз - в полном названии ветки не должно быть пробелов.

После завершения разработки в вашей локальной ветке необходимо сделать комит:

```git add .``` - добавляет все изменённые файлы в индекс
```git commit -m “комментарий к комиту”``` - необходимо писать в повелительном наклонении. Например: “Реализовать футер”

После совершения комита необходимо сделать пул реквест.
Команда ```git push origin <название-вашей-локальной-ветки>``` создаст ветку в удалённом репозитории с таким же названием.

После этой команды необходимо зайти на [https://github.com/DizZer0/lubimovka](https://github.com/DizZer0/lubimovka) и нажать на зелёную кнопку Compare & pull request
На открывшейся странице необходимо выбрать ветку, в которую будет происходить слияние: слева вместо main выбираем develop
Выбираем справа двух проверяющщих под надписью Reviewers и нажимаем на зелёную кнопку Create pull request
В разделе Pull request появится наш пул реквест

Проверяющему необходимо обращать внимание в какую ветку будет слияние - обязательно должна быть develop
На вкладке Files changed все вносимые изменения. Их необходимо проверить.
Когда проверяющий закончит проверку и всё ок, необходимо нажать на кнопку Merge pull request, затем на Confirm merge - изменения зальются в нужную ветку.

## Что делать, если нужно поправить код после ревью?
Важный момент! Одна задача - одна ветка. Одна ветка - один Merge Request. Вы создали ветку, потом внесли изменения и сделали коммит и пуш. Потом вы создали Merge Request. Допустим, вы заметили, что что-то необходимо подправить. В этом случае второй раз Merge Request делать не нужно. Нужно внести изменения в проект в вашей локальной ветке, закомитить и запушить, после пуша (```git push origin <название-аналогичной-ветки>```), запрос слияния обновится.

## Инструкция для проверяющих
При создании пул реквеста указывают двух проверяющих (ревьюверов). Без одобрения (апрува) этих двух проверяющих не удасться залить изменения в ветку develop.

Если вас указали в качестве проверябщего, то вам необходимо: 
1. Зайти на вкладку [Pull requests](https://github.com/DizZer0/lubimovka/pulls) нашего репозитория
2. Открыть на просмотр нужный пул реквест
3. У него перейти на вкладку Files changed
4. Просмотреть все изменения
Может понадобится возможность посмотреть в браузере на результат вносимых изменений. Для этого необходимо взять эти изменения из нужной ветки.
Допустим, изменения вливаются из ветки ```feat/gallery```. Для того, чтобы эта ветка со всеми её изменениями появилась у вас локально, необходимо создать ветку у себя локально командой ```git checkout -b название-ветки``` и выполнить команду по скачиванию нужной ветки из удалённого репозитория:
```git pull origin feat/gallery``` - feat/gallery название-удалённой-ветки
Код из удалённой ветки у вас локально
5. Нажать на залёную кнопку Review changes и выбрать необходимый вариант:
- Оставить комментарий - просто комментарий, без одобрения
- Поставить одобрение - комменатрий и одобрение, если всё ок
- либо Запросить изменения - если надо что-то исправить тому, кто заливает правки
6. Нажать на кнопку Submit review

Подробнее и со скриншотами в [документации](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request) GitHub

По всем возникающим вопросам и проблемам писать в общий чат :)